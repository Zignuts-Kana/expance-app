<%- include('../../partials/header.ejs') %>
<div
  class="container"
  style="
    height: 85.6dvh;
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: column;
  "
>
<form class="border border-secondary rounded py-4" id="editExpanceForm" style="width: 60%;">
    <div class="container">
        <div class="form-group">
            <label for="amount">Amount</label>
            <input type="number" class="form-control" id="amount" name="amount" value='<%- expance.amount %>' required>
          </div>
          <div class="form-check">
            <% if (expance.isDebited == true){%>
              <input type="checkbox" class="form-check-input" id="isDebited" name="isDebited" checked>
              <label class="form-check-label" for="isDebited">Amount Debited ?</label>
              <%}else{%>
                <input type="checkbox" class="form-check-input" id="isDebited" name="isDebited">
                <label class="form-check-label" for="isDebited">Amount Debited ?</label>
            <%}%>
          </div>
          <button type="submit" class="btn btn-outline-success btn-block mb-4">Update</button>
    </div>
</form>
<button class="btn btn-outline-success-secondary mt-4" onclick="history.back()">Back</button>
</div>
<!-- <script>
    const editExpanceForm = document.getElementById("editExpanceForm");
    if (editExpanceForm) {
        editExpanceForm.addEventListener("submit", (e) => {
        e.preventDefault();
        const formData = new FormData(editExpanceForm);
        let user = localStorage.getItem("user");
        const account = localStorage.getItem("acount");
        let expance = location.href;
        expance = expance.split('/edit/')[1];
        if (user && account) {
          user = JSON.parse(user);
          const userAction = async () => {
            const response = fetch(
              `http://localhost:1337/user/${user._id}/account/${account}/expance/edit/${expance}`,
              {
                method: "POST",
                headers: {
                  Accept:
                    "text/html, application/xhtml+xml, application/xml;q=0.9, image/webp, */*",
                  Authorization: `Bearer ${localStorage.getItem("token")}`,
                },
              }
            );
            response = await response.text();
            console.log(response);
            location.href = `http://localhost:1337/account/${account}`;
            // document.write(response);
          };
          userAction();
        }
      });
    }
  </script> -->
<%- include('../../partials/footer.ejs') %>